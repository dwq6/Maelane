<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>éŸ©å›½ç°åœºåœ°åç‰¹è®­</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡¶éƒ¨æ•°æ®æ  */
        .header {
            width: 100%;
            max-width: 600px;
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            font-weight: bold;
            background: white;
            padding: 12px 20px;
            border-radius: 12px;
            box-sizing: border-box;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* å•è¯å¡ç‰‡ */
        .word-card {
            background: white;
            width: 100%;
            max-width: 600px;
            padding: 40px 20px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
            margin-bottom: 20px;
            box-sizing: border-box;
            border-bottom: 4px solid #e0e0e0;
        }

        .korean-word {
            font-size: 42px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 15px;
            display: block;
            word-break: keep-all;
        }

        .speaker-btn {
            background: #e3f2fd;
            color: #1976d2;
            border: none;
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: background 0.2s;
        }
        .speaker-btn:active { background: #bbdefb; }

        /* é€‰é¡¹ç½‘æ ¼ */
        .options-grid {
            width: 100%;
            max-width: 600px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: none;
            padding: 15px 10px;
            border-radius: 12px;
            font-size: 18px;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.1s;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }

        .option-btn:active { transform: scale(0.98); background: #f5f5f5; }

        /* æ­£ç¡®/é”™è¯¯æ ·å¼ */
        .correct {
            background-color: #4caf50 !important;
            color: white !important;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .wrong {
            background-color: #ff5252 !important;
            color: white !important;
            animation: shake 0.4s;
        }

        /* è¯¦ç»†è§£é‡ŠåŒºåŸŸ (æ–°å¢) */
        .explanation-card {
            display: none; /* é»˜è®¤éšè— */
            width: 100%;
            max-width: 600px;
            background: #fff8e1; /* æµ…é»„è‰²èƒŒæ™¯ */
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin-top: 20px;
            border-radius: 8px;
            box-sizing: border-box;
            text-align: left;
            animation: slideIn 0.3s ease-out;
        }

        .explanation-title {
            font-weight: bold;
            color: #d35400;
            margin-bottom: 8px;
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .explanation-content {
            color: #555;
            line-height: 1.6;
            font-size: 15px;
        }

        /* ä¸‹ä¸€é¢˜æŒ‰é’® */
        .next-btn {
            margin-top: 25px;
            background: #2196f3;
            color: white;
            border: none;
            width: 80%;
            max-width: 300px;
            padding: 14px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            cursor: pointer;
            display: none; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        #audio-player { display: none; }
    </style>
</head>
<body>

<div class="header">
    <span id="score">å¾—åˆ†: 0</span>
    <span id="progress">ç¬¬ 1 é¢˜</span>
</div>

<div class="word-card">
    <div class="korean-word" id="question-word">Loading...</div>
    <button class="speaker-btn" onclick="playCurrentWord()">
        ğŸ”Š å¬å‘éŸ³
    </button>
</div>

<div class="options-grid" id="options-container"></div>

<!-- æ–°å¢ï¼šè¯¦ç»†è§£é‡ŠåŒºåŸŸ -->
<div class="explanation-card" id="explanation-area">
    <div class="explanation-title">ğŸ’¡ è¯¦ç»†ä¿¡æ¯</div>
    <div class="explanation-content" id="explanation-text"></div>
</div>

<button class="next-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ âœ</button>

<audio id="audio-player"></audio>

<script>
    // --- 1. ç°åœºåœ°å/å“ç‰Œè¯åº“ ---
    const wordDatabase = [
        // MKN
        { ko: "ì´ì²œ", cn: "åˆ©å·", detail: "ä½äºäº¬ç•¿é“ä¸œå—éƒ¨ã€‚ä»¥å¤§ç±³ã€é™¶ç“·é—»åï¼Œä¹Ÿæ˜¯SKæµ·åŠ›å£«åŠå¯¼ä½“å·¥å‚æ‰€åœ¨åœ°ã€‚" },
        { ko: "êµ¬ë¯¸", cn: "é¾Ÿå°¾", detail: "ä½äºåº†å°šåŒ—é“è¥¿éƒ¨ã€‚éŸ©å›½è‘—åçš„å†…é™†å·¥ä¸šåŸå¸‚ï¼Œç”µå­äº§ä¸šéå¸¸å‘è¾¾ã€‚" },
        { ko: "ê¹€í•´", cn: "é‡‘æµ·", detail: "ä½äºåº†å°šå—é“ï¼Œç´§é‚»é‡œå±±ã€‚é‡‘æµ·å›½é™…æœºåœºæ‰€åœ¨åœ°ï¼Œå¤ä»£é‡‘å®˜ä¼½å€»é¦–éƒ½ã€‚" },
        { ko: "ëŒ€ëª…", cn: "å¤§æ˜", detail: "æŒ‡å¤§æ˜å»ºè®¾(Daemyung)ã€‚åŸå§‹åœ°åé€šå¸¸æŒ‡å¤§é‚±å—åŒºçš„å¤§æ˜æ´ã€‚" },
        { ko: "ë™íƒ„", cn: "ä¸œæ»©", detail: "ä½äºäº¬ç•¿é“ååŸå¸‚ã€‚éŸ©å›½è§„æ¨¡æœ€å¤§çš„æ–°éƒ½å¸‚ä¹‹ä¸€ï¼Œä¸‰æ˜Ÿç”µå­äº§ä¸šèšé›†åœ°ã€‚" },
        { ko: "ì°½ì›", cn: "æ˜ŒåŸ", detail: "ä½äºåº†å°šå—é“ï¼Œé“æ”¿åºœæ‰€åœ¨åœ°ã€‚éŸ©å›½ä»£è¡¨æ€§çš„æœºæ¢°å·¥ä¸šåŸå¸‚ã€‚" },
        { ko: "ë°©ë°°", cn: "æ–¹èƒŒ", detail: "ä½äºé¦–å°”ç‘è‰åŒºã€‚é¦–å°”è‘—åçš„å¯Œäººå±…ä½åŒºä¹‹ä¸€ï¼Œå±äºæ±Ÿå—åœˆã€‚" },
        { ko: "ì²œì•ˆ", cn: "å¤©å®‰", detail: "ä½äºå¿ æ¸…å—é“ä¸œåŒ—éƒ¨ã€‚è¿æ¥é¦–å°”å’Œå—éƒ¨çš„äº¤é€šæ¢çº½ï¼Œå¤§å­¦ä¼—å¤šã€‚" },
        
        // KJ
        { ko: "êµ°ì‚°", cn: "ç¾¤å±±", detail: "ä½äºå…¨ç½—åŒ—é“è¥¿åŒ—éƒ¨ã€‚è‘—åæ¸¯å£åŸå¸‚ï¼Œæ‹¥æœ‰è®¸å¤šè¿‘ä»£å†å²å»ºç­‘ã€‚" },
        { ko: "ëŒ€ì „", cn: "å¤§ç”°", detail: "éŸ©å›½ä¸­éƒ¨å¹¿åŸŸå¸‚ã€‚éŸ©å›½çš„ç§‘æŠ€ä¸­å¿ƒï¼Œå¤§å¾·ç ”ç©¶ç‰¹åŒºæ‰€åœ¨åœ°ã€‚" },
        { ko: "ì²¨ë‹¨", cn: "å°–ç«¯", detail: "ä½äºå…‰å·å¹¿åŸŸå¸‚å…‰å±±åŒºã€‚æŒ‡â€œå°–ç«¯åœ°åŒºâ€ï¼Œé«˜ç§‘æŠ€äº§ä¸šä¸å±…ä½å¤åˆåŒºã€‚" },
        { ko: "ì¶˜ì²œ", cn: "æ˜¥å·", detail: "ä½äºæ±ŸåŸé“è¥¿éƒ¨ï¼Œé“æ”¿åºœæ‰€åœ¨åœ°ã€‚ä»¥æ¹–æ³Šå’Œé“æ¿é¸¡æ–™ç†é—»åã€‚" },
        { ko: "ì•„ì‚°", cn: "ç‰™å±±", detail: "ä½äºå¿ æ¸…å—é“åŒ—éƒ¨ï¼Œç´§é‚»å¤©å®‰ã€‚ä»¥æ¸©é˜³æ¸©æ³‰å’Œä¸‰æ˜Ÿæ˜¾ç¤ºå™¨å·¥å‚é—»åã€‚" },
        
        // ZW
        { ko: "ë¡¯ë°", cn: "ä¹å¤©", detail: "ä¹å¤©å»ºè®¾(Lotte Castle)ã€‚éŸ©å›½äº”å¤§è´¢é˜€ä¹‹ä¸€çš„ä¹å¤©é›†å›¢æ——ä¸‹å“ç‰Œã€‚" },
        // ë™íƒ„ å·²åœ¨ MKN ä¸­åŒ…å«ï¼Œæ­¤å¤„ä¸é‡å¤æ·»åŠ ä»¥é˜²æ··æ·†

        // KS
        { ko: "ì„œí•œ", cn: "è¥¿æ±‰", detail: "(æ ª)è¥¿æ±‰ã€‚æ€»éƒ¨ä½äºå¤§é‚±çš„çŸ¥åå»ºç­‘å…¬å¸ï¼Œé¡¹ç›®å¤šé›†ä¸­åœ¨åº†åŒ—åœ°åŒºã€‚" },
        { ko: "ìŒìš©", cn: "åŒé¾™", detail: "åŒé¾™å»ºè®¾(Ssangyong)ã€‚çŸ¥åå»ºä¼ï¼Œæ›¾å»ºé€ æ–°åŠ å¡æ»¨æµ·æ¹¾é‡‘æ²™é…’åº—ã€‚" },
        { ko: "í˜¸ë°˜", cn: "æ¹–ç•”", detail: "æ¹–ç•”å»ºè®¾(Hoban Summit)ã€‚éŸ©å›½æ’åå‰åçš„å¤§å‹å»ºç­‘å…¬å¸ã€‚" },

        // KW
        { ko: "í•˜ì›”ê³¡", cn: "ä¸‹æœˆè°·", detail: "ä½äºé¦–å°”åŸåŒ—åŒºã€‚å…¸å‹çš„å±…ä½å¯†é›†åŒºï¼Œæ—§ç§°æœˆè°·æ´ã€‚" },
        { ko: "ë´‰ì²œ", cn: "å¥‰å¤©", detail: "ä½äºé¦–å°”å† å²³åŒºã€‚é è¿‘é¦–å°”å¤§å­¦ï¼Œäººå£éå¸¸å¯†é›†çš„å±…ä½åŒºã€‚" },
        { ko: "ë…ì‚°", cn: "ç§ƒå±±", detail: "ä½äºé¦–å°”è¡¿å·åŒºã€‚è¿‡å»æ˜¯å·¥ä¸šåŒºï¼Œç°è½¬å‹ä¸ºçŸ¥è¯†äº§ä¸šä¸­å¿ƒèšé›†åœ°ã€‚" },

        // DK
        { ko: "ë³¸ë¦¬", cn: "æœ¬é‡Œ", detail: "é€šå¸¸æŒ‡å¤§é‚±å¹¿åŸŸå¸‚è¾¾è¥¿åŒºæœ¬é‡Œæ´ã€‚ä¸»è¦å±…ä½å’Œå•†ä¸šæ··åˆåŒºã€‚" },

        // TF
        { ko: "í¬í•­", cn: "æµ¦é¡¹", detail: "ä½äºåº†å°šåŒ—é“ä¸œæµ·å²¸ã€‚ä¸–ç•Œè‘—åçš„é’¢é“åŸå¸‚ï¼Œæµ¦é¡¹åˆ¶é“(POSCO)æ€»éƒ¨ã€‚" },

        // QMD
        { ko: "ì›ì£¼", cn: "åŸå·", detail: "ä½äºæ±ŸåŸé“è¥¿å—éƒ¨ã€‚æ±ŸåŸé“äººå£æœ€å¤šçš„åŸå¸‚ï¼Œé©æ–°éƒ½å¸‚ã€‚" },
        { ko: "ëŒ€ìš°", cn: "å¤§å®‡", detail: "å¤§å®‡å»ºè®¾(Prugio)ã€‚éŸ©å›½é¡¶çº§å»ºç­‘å…¬å¸ä¹‹ä¸€ã€‚" },

        // BS
        { ko: "ì•ˆê³„", cn: "å®‰æºª", detail: "é€šå¸¸æŒ‡åº†å°šåŒ—é“ä¹‰åŸéƒ¡å®‰æºªé¢ã€‚å…¸å‹çš„å†œæ‘ä¸­å¿ƒåœ°åŒºã€‚" },

        // SQ
        { ko: "ê²½ì‚°", cn: "åº†å±±", detail: "ä½äºåº†å°šåŒ—é“å—éƒ¨ï¼Œç´§é‚»å¤§é‚±ã€‚å¤§é‚±çš„å«æ˜ŸåŸï¼Œå¤§å­¦éå¸¸å¤šã€‚" },
        { ko: "ì¹ ê³¡", cn: "æ¼†è°·", detail: "æŒ‡åº†åŒ—æ¼†è°·éƒ¡æˆ–å¤§é‚±åŒ—åŒºæ¼†è°·åœ°åŒºã€‚é‡è¦çš„äº¤é€šè¦é“ã€‚" }
    ];

    // --- 2. æ¸¸æˆé€»è¾‘ ---
    let currentQuestion = {};
    let score = 0;
    let questionCount = 0;
    let isAnswered = false;

    function playCurrentWord() {
        if (!currentQuestion.ko) return;
        const text = currentQuestion.ko;
        const audio = document.getElementById('audio-player');
        // ç½‘æ˜“æœ‰é“æ¥å£
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&le=ko&_t=${new Date().getTime()}`;
        audio.src = url;
        audio.play().catch(e => {});
    }

    function initGame() {
        nextQuestion();
    }

    function nextQuestion() {
        isAnswered = false;
        questionCount++;
        document.getElementById('progress').textContent = `ç¬¬ ${questionCount} é¢˜`;
        document.getElementById('next-btn').style.display = 'none';
        document.getElementById('explanation-area').style.display = 'none'; // éšè—è§£é‡Š
        
        // éšæœºé€‰é¢˜
        const randomIndex = Math.floor(Math.random() * wordDatabase.length);
        currentQuestion = wordDatabase[randomIndex];
        
        document.getElementById('question-word').textContent = currentQuestion.ko;
        
        // ç”Ÿæˆé€‰é¡¹ï¼š1ä¸ªæ­£ç¡® + 3ä¸ªå¹²æ‰°
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomDistractor = wordDatabase[Math.floor(Math.random() * wordDatabase.length)];
            
            // æ ¸å¿ƒé€»è¾‘ï¼šç¡®ä¿å¹²æ‰°é¡¹çš„â€œéŸ©æ–‡â€å’Œå½“å‰é¢˜ç›®çš„â€œéŸ©æ–‡â€ä¸ä¸€æ ·
            if (randomDistractor.ko !== currentQuestion.ko && !options.includes(randomDistractor)) {
                options.push(randomDistractor);
            }
        }
        
        options.sort(() => Math.random() - 0.5);
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt.cn;
            btn.onclick = () => checkAnswer(btn, opt);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selectedOption) {
        if (isAnswered) return;
        isAnswered = true;

        const allBtns = document.querySelectorAll('.option-btn');

        // åˆ¤æ–­æ˜¯å¦æ­£ç¡®
        if (selectedOption.ko === currentQuestion.ko) {
            btn.classList.add('correct');
            score += 10;
            document.getElementById('score').textContent = `å¾—åˆ†: ${score}`;
            playCurrentWord(); 
        } else {
            btn.classList.add('wrong');
            if (navigator.vibrate) navigator.vibrate(200);
            
            // æ ‡å‡ºæ­£ç¡®ç­”æ¡ˆ
            allBtns.forEach(b => {
                if (b.textContent === currentQuestion.cn) {
                    b.classList.add('correct');
                }
            });
        }

        // æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯
        const expArea = document.getElementById('explanation-area');
        const expText = document.getElementById('explanation-text');
        
        // ç»„åˆæ˜¾ç¤ºå†…å®¹ï¼šæ„æ€ + è¯¦ç»†ä¿¡æ¯
        expText.innerHTML = `<strong>${currentQuestion.cn}</strong><br/>${currentQuestion.detail}`;
        expArea.style.display = 'block';

        document.getElementById('next-btn').style.display = 'block';
    }

    initGame();
</script>
</body>
</html>
