<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å»ºç­‘éŸ©è¯­ç‰¹è®­ - è¯æºç‰ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡¶éƒ¨æ•°æ®æ  */
        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            font-weight: bold;
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* å•è¯å¡ç‰‡ */
        .word-card {
            background: white;
            width: 100%;
            padding: 40px 20px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            border-bottom: 4px solid #e0e0e0;
        }

        .korean-word {
            font-size: 36px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 15px;
            display: block;
            word-break: keep-all;
        }

        .speaker-btn {
            background: #e3f2fd;
            color: #1976d2;
            border: none;
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .speaker-btn:active { background: #bbdefb; }

        /* é€‰é¡¹ç½‘æ ¼ */
        .options-grid {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: none;
            padding: 15px 5px;
            border-radius: 12px;
            font-size: 16px;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.1s;
            font-weight: 500;
            display: flex;
            flex-direction: column; /* æ”¹ä¸ºå‚ç›´æ’åˆ—ï¼Œä»¥ä¾¿æ˜¾ç¤ºè¯æº */
            align-items: center;
            justify-content: center;
            min-height: 70px;
            line-height: 1.4;
        }

        .option-btn:active { transform: scale(0.96); background: #f5f5f5; }

        /* è¯æºå°å­—æ ·å¼ */
        .origin-text {
            display: none; /* é»˜è®¤éšè— */
            font-size: 12px;
            margin-top: 4px;
            font-weight: normal;
            opacity: 0.9;
        }

        /* æ­£ç¡®/é”™è¯¯æ ·å¼ */
        .correct {
            background-color: #4caf50 !important;
            color: white !important;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .wrong {
            background-color: #ff5252 !important;
            color: white !important;
            animation: shake 0.4s;
        }

        /* é€‰ä¸­åæ˜¾ç¤ºè¯æº */
        .correct .origin-text, .wrong .origin-text {
            display: block;
            color: #e8f5e9; /* æµ…è‰²å­— */
        }

        /* ä¸‹ä¸€é¢˜æŒ‰é’® */
        .next-btn {
            margin-top: 25px;
            background: #2196f3;
            color: white;
            border: none;
            width: 80%;
            padding: 14px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            cursor: pointer;
            display: none; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        #audio-player { display: none; }
    </style>
</head>
<body>

<div class="header">
    <span id="score">å¾—åˆ†: 0</span>
    <span id="progress">ç¬¬ 1 é¢˜</span>
</div>

<div class="word-card">
    <div class="korean-word" id="question-word">Loading...</div>
    <button class="speaker-btn" onclick="playCurrentWord()">
        ğŸ”Š å¬å‘éŸ³
    </button>
</div>

<div class="options-grid" id="options-container"></div>

<button class="next-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ âœ</button>

<audio id="audio-player"></audio>

<script>
    // --- 1. å»ºç­‘/å›¾çº¸ä¸“ç”¨è¯åº“ (å·²æ·»åŠ  origin è¯æº) ---
    // [æ±‰] = æ±‰å­—è¯, [éŸ©] = å›ºæœ‰è¯, [å¤–] = å¤–æ¥è¯­, [æ··] = æ··åˆè¯
    const wordDatabase = [
        { ko: "ë‘ê²ì„", cn: "é¡¶æ¿/å‹é¡¶çŸ³", origin: "[æ··] ë‘ê²(ç›–) + çŸ³" },
        { ko: "ì…ë©´ë„", cn: "ç«‹é¢å›¾", origin: "[æ±‰] ç«‹é¢åœ–" },
        { ko: "ì…ë©´", cn: "ç«‹é¢", origin: "[æ±‰] ç«‹é¢" },
        { ko: "ë¬¼ê°ˆê¸°", cn: "ç£¨å…‰", origin: "[éŸ©] ë¬¼(æ°´) + ê°ˆê¸°(ç£¨)" },
        { ko: "ë²„ë„ˆ", cn: "ç«çƒ§é¢", origin: "[å¤–] Burner" },
        { ko: "ì €ì¸µë¶€", cn: "ä½å±‚éƒ¨", origin: "[æ±‰] ä½å±¤éƒ¨" },
        { ko: "ì™¸ë²½", cn: "å¤–å¢™", origin: "[æ±‰] å¤–å£" },
        { ko: "ë¶€ë¶„", cn: "éƒ¨åˆ†", origin: "[æ±‰] éƒ¨åˆ†" },
        { ko: "ì „ê°œë„", cn: "å±•å¼€å›¾", origin: "[æ±‰] å±•é–‹åœ–" },
        { ko: "ì •ë©´ë„", cn: "æ­£é¢å›¾", origin: "[æ±‰] æ­£é¢åœ–" },
        { ko: "ë°°ë©´ë„", cn: "èƒŒé¢å›¾", origin: "[æ±‰] èƒŒé¢åœ–" },
        { ko: "ì£¼ë¬¸ì£¼", cn: "ä¸»å…¥å£", origin: "[æ±‰] ä¸»é–€æŸ±(æ¨æµ‹)æˆ–è¯¯å†™" }, // æ³¨ï¼šé€šå¸¸ä¸»å…¥å£æ˜¯ ì£¼ì¶œì…êµ¬
        { ko: "ê¸°ì¤€", cn: "åŸºå‡†", origin: "[æ±‰] åŸºæº–" },
        { ko: "ë²ˆí˜¸", cn: "ç¼–å·", origin: "[æ±‰] ç•ªè™Ÿ" },
        { ko: "ì²œì¥ë„", cn: "å¤©èŠ±æ¿å›¾", origin: "[æ±‰] å¤©éšœåœ–" },
        { ko: "ì§€ìƒ", cn: "åœ°ä¸Š", origin: "[æ±‰] åœ°ä¸Š" },
        { ko: "ì§€í•˜", cn: "åœ°ä¸‹", origin: "[æ±‰] åœ°ä¸‹" },
        { ko: "êµ¬ê°„", cn: "åŒºé—´", origin: "[æ±‰] å€é–“" },
        { ko: "ì¶œì…êµ¬", cn: "å‡ºå…¥å£", origin: "[æ±‰] å‡ºå…¥å£" },
        { ko: "ì—°ë§ˆ", cn: "ç ”ç£¨/ç£¨å…‰", origin: "[æ±‰] ç¡ç£¨" },
        { ko: "í™ˆíŒŒê¸°", cn: "å¼€æ§½", origin: "[éŸ©] í™ˆ(æ§½) + íŒŒê¸°(æŒ–)" },
        { ko: "í˜¸ì´ìŠ¤íŠ¸", cn: "Héƒ¨åˆ†/å‡é™æœº", origin: "[å¤–] Hoist" },
        { ko: "ëª°ë”©ì„", cn: "çº¿æ¡çŸ³", origin: "[æ··] Molding + çŸ³" },
        { ko: "ì •ë©´", cn: "æ­£é¢", origin: "[æ±‰] æ­£é¢" },
        { ko: "ë°°ë©´", cn: "èƒŒé¢", origin: "[æ±‰] èƒŒé¢" },
        { ko: "ìš°ì¸¡", cn: "å³ä¾§", origin: "[æ±‰] å³å´" },
        { ko: "ì¢Œì¸¡", cn: "å·¦ä¾§", origin: "[æ±‰] å·¦å´" },
        { ko: "ì§€ì •ì„ì¬", cn: "æŒ‡å®šçŸ³æ", origin: "[æ±‰] æŒ‡å®šçŸ³æ" },
        { ko: "ì‹œê³µ", cn: "æ–½å·¥", origin: "[æ±‰] æ–½å·¥" },
        { ko: "ë‹¨ì°¨", cn: "è·Œçº§/é«˜ä½å·®", origin: "[æ±‰] æ®µå·®" },
        { ko: "ë°”ë‹¥", cn: "åœ°é¢", origin: "[éŸ©] ë°”ë‹¥" },
        { ko: "ë„ë©´", cn: "å›¾çº¸", origin: "[æ±‰] åœ–é¢" },
        { ko: "ì°¸ì¡°", cn: "å‚ç…§", origin: "[æ±‰] åƒç…§" },
        { ko: "ì„¤ì¹˜", cn: "å®‰è£…/è®¾ç½®", origin: "[æ±‰] è¨­ç½®" },
        { ko: "ì•ˆë‚´", cn: "ç¤ºæ„/å‘å¯¼", origin: "[æ±‰] æ¡ˆå…§" },
        { ko: "ë©´ì¹˜ê¸°", cn: "å€’è§’", origin: "[éŸ©] ë©´(é¢) + ì¹˜ê¸°(æ‰“/å‰Š)" },
        { ko: "í‰ë©´ë„", cn: "å¹³é¢å›¾", origin: "[æ±‰] å¹³é¢åœ–" },
        { ko: "ë‘ê²", cn: "å‹é¡¶", origin: "[éŸ©] ë‘ê²(å¥—/ç›–)" },
        { ko: "ì”ë‹¤ë“¬", cn: "è”æé¢", origin: "[éŸ©] ì”(ç»†) + ë‹¤ë“¬(ä¿®æ•´)" },
        { ko: "ë‹¨ë©´", cn: "å‰–é¢", origin: "[æ±‰] æ–·é¢" },
        { ko: "ìƒì„¸ë„", cn: "è¯¦å›¾", origin: "[æ±‰] è©³ç´°åœ–" },
        { ko: "ê°€ê³µ", cn: "åŠ å·¥", origin: "[æ±‰] åŠ å·¥" },
        { ko: "ìƒì„¸", cn: "ç»†èŠ‚/è¯¦ç»†", origin: "[æ±‰] è©³ç´°" },
        { ko: "ìœ„", cn: "ä¸Š", origin: "[éŸ©] ìœ„" },
        { ko: "ì•„ë˜", cn: "ä¸‹", origin: "[éŸ©] ì•„ë˜" },
        { ko: "ì¢Œ", cn: "å·¦", origin: "[æ±‰] å·¦" },
        { ko: "ìš°", cn: "å³", origin: "[æ±‰] å³" },
        { ko: "ë™", cn: "æ ‹", origin: "[æ±‰] æ£Ÿ" },
        { ko: "ì¸µ", cn: "å±‚", origin: "[æ±‰] å±¤" },
        { ko: "í­", cn: "å®½", origin: "[æ±‰] å¹…" },
        { ko: "ê¸¸ì´", cn: "é•¿", origin: "[éŸ©] ê¸¸ì´" },
        { ko: "ë‘ê»˜", cn: "åšåº¦", origin: "[éŸ©] ë‘ê»˜" }
    ];

    // --- 2. æ¸¸æˆé€»è¾‘ ---
    let currentQuestion = {};
    let score = 0;
    let questionCount = 0;
    let isAnswered = false;

    function playCurrentWord() {
        if (!currentQuestion.ko) return;
        const text = currentQuestion.ko;
        const audio = document.getElementById('audio-player');
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&le=ko&_t=${new Date().getTime()}`;
        audio.src = url;
        audio.play().catch(e => {});
    }

    function initGame() {
        nextQuestion();
    }

    function nextQuestion() {
        isAnswered = false;
        questionCount++;
        document.getElementById('progress').textContent = `ç¬¬ ${questionCount} é¢˜`;
        document.getElementById('next-btn').style.display = 'none';
        
        // éšæœºé€‰é¢˜
        const randomIndex = Math.floor(Math.random() * wordDatabase.length);
        currentQuestion = wordDatabase[randomIndex];
        
        document.getElementById('question-word').textContent = currentQuestion.ko;
        
        // ç”Ÿæˆé€‰é¡¹
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomDistractor = wordDatabase[Math.floor(Math.random() * wordDatabase.length)];
            if (randomDistractor.ko !== currentQuestion.ko && !options.includes(randomDistractor)) {
                options.push(randomDistractor);
            }
        }
        
        options.sort(() => Math.random() - 0.5);
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            
            // ç»“æ„ï¼šä¸Šé¢æ˜¯ä¸­æ–‡ï¼Œä¸‹é¢æ˜¯éšè—çš„è¯æºspan
            btn.innerHTML = `
                <span>${opt.cn}</span>
                <span class="origin-text">${opt.origin}</span>
            `;
            
            // å°†æ•°æ®ç»‘å®šåˆ°æŒ‰é’®ä¸Šï¼Œæ–¹ä¾¿checkAnswerè°ƒç”¨
            btn.dataset.ko = opt.ko; 
            
            btn.onclick = () => checkAnswer(btn, opt);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selectedOption) {
        if (isAnswered) return;
        isAnswered = true;

        const allBtns = document.querySelectorAll('.option-btn');

        // åˆ¤æ–­æ˜¯å¦æ­£ç¡®
        if (selectedOption.ko === currentQuestion.ko) {
            btn.classList.add('correct');
            score += 10;
            document.getElementById('score').textContent = `å¾—åˆ†: ${score}`;
            playCurrentWord(); 
        } else {
            btn.classList.add('wrong');
            if (navigator.vibrate) navigator.vibrate(200);
            
            // æ ‡å‡ºæ­£ç¡®ç­”æ¡ˆ
            allBtns.forEach(b => {
                if (b.dataset.ko === currentQuestion.ko) {
                    b.classList.add('correct');
                }
            });
        }

        document.getElementById('next-btn').style.display = 'block';
    }

    initGame();
</script>
</body>
</html>
