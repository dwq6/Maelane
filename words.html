<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å»ºç­‘éŸ©è¯­ç‰¹è®­</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡¶éƒ¨æ•°æ®æ  */
        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            font-weight: bold;
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* å•è¯å¡ç‰‡ */
        .word-card {
            background: white;
            width: 100%;
            padding: 40px 20px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            border-bottom: 4px solid #e0e0e0;
        }

        .korean-word {
            font-size: 36px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 15px;
            display: block;
            word-break: keep-all;
        }

        .speaker-btn {
            background: #e3f2fd;
            color: #1976d2;
            border: none;
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .speaker-btn:active { background: #bbdefb; }

        /* é€‰é¡¹ç½‘æ ¼ */
        .options-grid {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr; /* ä¸¤åˆ—å¸ƒå±€æ›´é€‚åˆçŸ­è¯ */
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: none;
            padding: 20px 10px;
            border-radius: 12px;
            font-size: 16px;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.1s;
            font-weight: 500;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 60px;
        }

        .option-btn:active { transform: scale(0.96); background: #f5f5f5; }

        /* æ­£ç¡®/é”™è¯¯æ ·å¼ */
        .correct {
            background-color: #4caf50 !important;
            color: white !important;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .wrong {
            background-color: #ff5252 !important;
            color: white !important;
            animation: shake 0.4s;
        }

        /* ä¸‹ä¸€é¢˜æŒ‰é’® */
        .next-btn {
            margin-top: 25px;
            background: #2196f3;
            color: white;
            border: none;
            width: 80%;
            padding: 14px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            cursor: pointer;
            display: none; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        #audio-player { display: none; }
    </style>
</head>
<body>

<div class="header">
    <span id="score">å¾—åˆ†: 0</span>
    <span id="progress">ç¬¬ 1 é¢˜</span>
</div>

<div class="word-card">
    <div class="korean-word" id="question-word">Loading...</div>
    <button class="speaker-btn" onclick="playCurrentWord()">
        ğŸ”Š å¬å‘éŸ³
    </button>
</div>

<div class="options-grid" id="options-container"></div>

<button class="next-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ âœ</button>

<audio id="audio-player"></audio>

<script>
    // --- 1. å»ºç­‘/å›¾çº¸ä¸“ç”¨è¯åº“ ---
    const wordDatabase = [
        { ko: "ë‘ê²ì„", cn: "é¡¶æ¿" },
        { ko: "ì…ë©´ë„", cn: "ç«‹é¢å›¾" },
        { ko: "ì…ë©´", cn: "ç«‹é¢" },
        { ko: "ë¬¼ê°ˆê¸°", cn: "ç£¨å…‰" },
        { ko: "ë²„ë„ˆ", cn: "ç«çƒ§" },
        { ko: "ì €ì¸µë¶€", cn: "ä½å±‚" },
        { ko: "ì™¸ë²½", cn: "å¤–å¢™" },
        { ko: "ë¶€ë¶„", cn: "éƒ¨åˆ†" },
        { ko: "ì „ê°œë„", cn: "å¹³é¢å›¾" },
        { ko: "ì „ê°œë„", cn: "å±•å¼€å›¾" },
        { ko: "ì •ë©´ë„", cn: "æ­£é¢å›¾" },
        { ko: "ë°°ë©´ë„", cn: "èƒŒé¢å›¾" },
        { ko: "ì£¼ë¬¸ì£¼", cn: "ä¸»å…¥å£" },
        { ko: "ê¸°ì¤€", cn: "åŸºå‡†" },
        { ko: "ë²ˆí˜¸", cn: "ç¼–å·" },
        { ko: "ì²œì¥ë„", cn: "å¤©èŠ±æ¿å›¾" },
        { ko: "ì§€ìƒ", cn: "åœ°ä¸Š" },
        { ko: "ì§€í•˜", cn: "åœ°ä¸‹" },
        { ko: "êµ¬ê°„", cn: "åŒºé—´" },
        { ko: "ì¶œì…êµ¬", cn: "å‡ºå…¥å£" },
        { ko: "ì—°ë§ˆ", cn: "ç£¨å…‰" },
        { ko: "í™ˆíŒŒê¸°", cn: "å¼€æ§½" },
        { ko: "í˜¸ì´ìŠ¤íŠ¸", cn: "Héƒ¨åˆ†" },
        { ko: "ëª°ë”©ì„", cn: "æ¡çŸ³" },
        { ko: "ì •ë©´", cn: "æ­£é¢" },
        { ko: "ë°°ë©´", cn: "èƒŒé¢" },
        { ko: "ìš°ì¸¡", cn: "å³ä¾§" },
        { ko: "ì¢Œì¸¡", cn: "å·¦ä¾§" },
        { ko: "ì§€ì •ì„ì¬", cn: "æŒ‡å®šçŸ³æ" },
        { ko: "ì‹œê³µ", cn: "æ–½å·¥" },
        { ko: "ë‹¨ì°¨", cn: "è·Œçº§" },
        { ko: "ë°”ë‹¥", cn: "åœ°é¢" },
        { ko: "ë„ë©´", cn: "å›¾çº¸" },
        { ko: "ì°¸ì¡°", cn: "å‚ç…§" },
        { ko: "ì„¤ì¹˜", cn: "å®‰è£…" },
        { ko: "ì°¸ì¡°", cn: "å‚è€ƒ" },
        { ko: "ì•ˆë‚´", cn: "ç¤ºæ„" },
        { ko: "ë©´ì¹˜ê¸°", cn: "å€’è§’" },
        { ko: "í‰ë©´ë„", cn: "å¹³é¢å›¾" },
        { ko: "ë‘ê²", cn: "å‹é¡¶" },
        { ko: "ì”ë‹¤ë“¬", cn: "è”æé¢" },
        { ko: "ë‹¨ë©´", cn: "å‰–é¢" },
        { ko: "ìƒì„¸ë„", cn: "è¯¦å›¾" },
        { ko: "ê°€ê³µ", cn: "åŠ å·¥" },
        { ko: "ìƒì„¸", cn: "ç»†èŠ‚" },
        { ko: "ìœ„", cn: "ä¸Š" },
        { ko: "ì•„ë˜", cn: "ä¸‹" },
        { ko: "ì¢Œ", cn: "å·¦" },
        { ko: "ìš°", cn: "å³" },
        { ko: "ë™", cn: "æ ‹" },
        { ko: "ì¸µ", cn: "å±‚" },
        { ko: "í­", cn: "å®½" },
        { ko: "ê¸¸ì´", cn: "é•¿" },
        { ko: "ë‘ê»˜", cn: "åšåº¦" }
    ];

    // --- 2. æ¸¸æˆé€»è¾‘ ---
    let currentQuestion = {};
    let score = 0;
    let questionCount = 0;
    let isAnswered = false;

    function playCurrentWord() {
        if (!currentQuestion.ko) return;
        const text = currentQuestion.ko;
        const audio = document.getElementById('audio-player');
        // ç½‘æ˜“æœ‰é“æ¥å£
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&le=ko&_t=${new Date().getTime()}`;
        audio.src = url;
        audio.play().catch(e => {});
    }

    function initGame() {
        nextQuestion();
    }

    function nextQuestion() {
        isAnswered = false;
        questionCount++;
        document.getElementById('progress').textContent = `ç¬¬ ${questionCount} é¢˜`;
        document.getElementById('next-btn').style.display = 'none';
        
        // éšæœºé€‰é¢˜
        const randomIndex = Math.floor(Math.random() * wordDatabase.length);
        currentQuestion = wordDatabase[randomIndex];
        
        document.getElementById('question-word').textContent = currentQuestion.ko;
        
        // ç”Ÿæˆé€‰é¡¹ï¼š1ä¸ªæ­£ç¡® + 3ä¸ªå¹²æ‰°
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomDistractor = wordDatabase[Math.floor(Math.random() * wordDatabase.length)];
            
            // æ ¸å¿ƒé€»è¾‘ï¼šç¡®ä¿å¹²æ‰°é¡¹çš„â€œéŸ©æ–‡â€å’Œå½“å‰é¢˜ç›®çš„â€œéŸ©æ–‡â€ä¸ä¸€æ ·
            // è¿™æ ·å³ä½¿ä¸­æ–‡æ„æ€ç›¸è¿‘ï¼ˆå¦‚å‚ç…§/å‚è€ƒï¼‰ï¼Œä¹Ÿä¸ä¼šä½œä¸ºé”™è¯¯é€‰é¡¹å‡ºç°
            if (randomDistractor.ko !== currentQuestion.ko && !options.includes(randomDistractor)) {
                options.push(randomDistractor);
            }
        }
        
        options.sort(() => Math.random() - 0.5);
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            btn.textContent = opt.cn;
            btn.onclick = () => checkAnswer(btn, opt);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selectedOption) {
        if (isAnswered) return;
        isAnswered = true;

        const allBtns = document.querySelectorAll('.option-btn');

        // åˆ¤æ–­æ˜¯å¦æ­£ç¡® (å¯¹æ¯”éŸ©æ–‡åŸæ–‡ï¼Œç¡®ä¿å”¯ä¸€æ€§)
        if (selectedOption.ko === currentQuestion.ko) {
            btn.classList.add('correct');
            score += 10;
            document.getElementById('score').textContent = `å¾—åˆ†: ${score}`;
            playCurrentWord(); 
        } else {
            btn.classList.add('wrong');
            if (navigator.vibrate) navigator.vibrate(200);
            
            // æ ‡å‡ºæ­£ç¡®ç­”æ¡ˆ
            allBtns.forEach(b => {
                // è¿™é‡Œéœ€è¦åå‘æŸ¥æ‰¾å“ªä¸ªæŒ‰é’®å¯¹åº”çš„æ˜¯æ­£ç¡®ç­”æ¡ˆ
                // å› ä¸ºå¯èƒ½æœ‰é‡å¤çš„ä¸­æ–‡æ„æ€ï¼Œæˆ‘ä»¬é€šè¿‡ç‚¹å‡»äº‹ä»¶ç»‘å®šçš„å¯¹è±¡æ¥åˆ¤æ–­å¤ªå¤æ‚
                // ç®€å•æ–¹æ³•ï¼šç›´æ¥å¯¹æ¯”ä¸­æ–‡æ–‡æœ¬ï¼ˆè™½ç„¶æœ‰é£é™©ï¼Œä½†åœ¨å½“å‰åˆ—è¡¨ä¸‹æ˜¯å®‰å…¨çš„ï¼‰
                if (b.textContent === currentQuestion.cn) {
                    b.classList.add('correct');
                }
            });
        }

        document.getElementById('next-btn').style.display = 'block';
    }

    initGame();
</script>
</body>
</html>
