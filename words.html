<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å»ºç­‘éŸ©è¯­ç‰¹è®­ - è¯æº+éŸ³æ ‡ç‰ˆ</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }

        /* é¡¶éƒ¨æ•°æ®æ  */
        .header {
            width: 100%;
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            color: #555;
            font-size: 14px;
            font-weight: bold;
            background: white;
            padding: 10px 15px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        /* å•è¯å¡ç‰‡ */
        .word-card {
            background: white;
            width: 100%;
            padding: 30px 20px;
            border-radius: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            text-align: center;
            margin-bottom: 20px;
            position: relative;
            border-bottom: 4px solid #e0e0e0;
        }

        .korean-word {
            font-size: 36px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 8px;
            display: block;
            word-break: keep-all;
        }

        /* æ–°å¢ï¼šéŸ³æ ‡æ ·å¼ */
        .pronunciation {
            font-size: 18px;
            color: #888;
            font-family: "Courier New", Courier, monospace; /* ç­‰å®½å­—ä½“çœ‹èµ·æ¥æ›´åƒéŸ³æ ‡ */
            margin-bottom: 15px;
            min-height: 24px; /* å ä½ï¼Œé˜²æ­¢æŠ–åŠ¨ */
            opacity: 0; /* é»˜è®¤éšè— */
            transition: opacity 0.3s ease;
        }
        
        .pronunciation.show {
            opacity: 1;
        }

        .speaker-btn {
            background: #e3f2fd;
            color: #1976d2;
            border: none;
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }
        .speaker-btn:active { background: #bbdefb; }

        /* é€‰é¡¹ç½‘æ ¼ */
        .options-grid {
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }

        .option-btn {
            background: white;
            border: none;
            padding: 15px 5px;
            border-radius: 12px;
            font-size: 16px;
            color: #333;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.1s;
            font-weight: 500;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 70px;
            line-height: 1.4;
        }

        .option-btn:active { transform: scale(0.96); background: #f5f5f5; }

        /* è¯æºå°å­—æ ·å¼ */
        .origin-text {
            display: none;
            font-size: 12px;
            margin-top: 4px;
            font-weight: normal;
            opacity: 0.9;
        }

        /* æ­£ç¡®/é”™è¯¯æ ·å¼ */
        .correct {
            background-color: #4caf50 !important;
            color: white !important;
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        .wrong {
            background-color: #ff5252 !important;
            color: white !important;
            animation: shake 0.4s;
        }

        .correct .origin-text, .wrong .origin-text {
            display: block;
            color: #e8f5e9;
        }

        /* ä¸‹ä¸€é¢˜æŒ‰é’® */
        .next-btn {
            margin-top: 25px;
            background: #2196f3;
            color: white;
            border: none;
            width: 80%;
            padding: 14px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
            cursor: pointer;
            display: none; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        #audio-player { display: none; }
    </style>
</head>
<body>

<div class="header">
    <span id="score">å¾—åˆ†: 0</span>
    <span id="progress">ç¬¬ 1 é¢˜</span>
</div>

<div class="word-card">
    <div class="korean-word" id="question-word">Loading...</div>
    <!-- æ–°å¢éŸ³æ ‡æ˜¾ç¤ºåŒºåŸŸ -->
    <div class="pronunciation" id="pronunciation-text"></div>
    
    <button class="speaker-btn" onclick="playCurrentWord()">
        ğŸ”Š å¬å‘éŸ³
    </button>
</div>

<div class="options-grid" id="options-container"></div>

<button class="next-btn" id="next-btn" onclick="nextQuestion()">ä¸‹ä¸€é¢˜ âœ</button>

<audio id="audio-player"></audio>

<script>
    // --- 1. å»ºç­‘/å›¾çº¸ä¸“ç”¨è¯åº“ (å« è¯æº + ç½—é©¬éŸ³) ---
    const wordDatabase = [
        { ko: "ë‘ê²ì„", cn: "é¡¶æ¿/å‹é¡¶çŸ³", origin: "[æ··] ë‘ê² + çŸ³", rom: "du-geop-seok" },
        { ko: "ì…ë©´ë„", cn: "ç«‹é¢å›¾", origin: "[æ±‰] ç«‹é¢åœ–", rom: "im-myeon-do" }, // é¼»éŸ³åŒ–
        { ko: "ì…ë©´", cn: "ç«‹é¢", origin: "[æ±‰] ç«‹é¢", rom: "im-myeon" },
        { ko: "ë¬¼ê°ˆê¸°", cn: "ç£¨å…‰", origin: "[éŸ©] ë¬¼(æ°´) + ê°ˆê¸°", rom: "mul-gal-gi" },
        { ko: "ë²„ë„ˆ", cn: "ç«çƒ§é¢", origin: "[å¤–] Burner", rom: "beo-neo" },
        { ko: "ì €ì¸µë¶€", cn: "ä½å±‚éƒ¨", origin: "[æ±‰] ä½å±¤éƒ¨", rom: "jeo-cheung-bu" },
        { ko: "ì™¸ë²½", cn: "å¤–å¢™", origin: "[æ±‰] å¤–å£", rom: "oe-byeok" },
        { ko: "ë¶€ë¶„", cn: "éƒ¨åˆ†", origin: "[æ±‰] éƒ¨åˆ†", rom: "bu-bun" },
        { ko: "ì „ê°œë„", cn: "å±•å¼€å›¾", origin: "[æ±‰] å±•é–‹åœ–", rom: "jeon-gae-do" },
        { ko: "ì •ë©´ë„", cn: "æ­£é¢å›¾", origin: "[æ±‰] æ­£é¢åœ–", rom: "jeong-myeon-do" },
        { ko: "ë°°ë©´ë„", cn: "èƒŒé¢å›¾", origin: "[æ±‰] èƒŒé¢åœ–", rom: "bae-myeon-do" },
        { ko: "ì£¼ë¬¸ì£¼", cn: "ä¸»å…¥å£", origin: "[æ±‰] ä¸»é–€æŸ±(æ¨æµ‹)", rom: "ju-mun-ju" },
        { ko: "ê¸°ì¤€", cn: "åŸºå‡†", origin: "[æ±‰] åŸºæº–", rom: "gi-jun" },
        { ko: "ë²ˆí˜¸", cn: "ç¼–å·", origin: "[æ±‰] ç•ªè™Ÿ", rom: "beon-ho" },
        { ko: "ì²œì¥ë„", cn: "å¤©èŠ±æ¿å›¾", origin: "[æ±‰] å¤©éšœåœ–", rom: "cheon-jang-do" },
        { ko: "ì§€ìƒ", cn: "åœ°ä¸Š", origin: "[æ±‰] åœ°ä¸Š", rom: "ji-sang" },
        { ko: "ì§€í•˜", cn: "åœ°ä¸‹", origin: "[æ±‰] åœ°ä¸‹", rom: "ji-ha" },
        { ko: "êµ¬ê°„", cn: "åŒºé—´", origin: "[æ±‰] å€é–“", rom: "gu-gan" },
        { ko: "ì¶œì…êµ¬", cn: "å‡ºå…¥å£", origin: "[æ±‰] å‡ºå…¥å£", rom: "chu-rip-gu" }, // è¿éŸ³
        { ko: "ì—°ë§ˆ", cn: "ç ”ç£¨/ç£¨å…‰", origin: "[æ±‰] ç¡ç£¨", rom: "yeon-ma" },
        { ko: "í™ˆíŒŒê¸°", cn: "å¼€æ§½", origin: "[éŸ©] í™ˆ + íŒŒê¸°", rom: "hom-pa-gi" },
        { ko: "í˜¸ì´ìŠ¤íŠ¸", cn: "Héƒ¨åˆ†/å‡é™æœº", origin: "[å¤–] Hoist", rom: "ho-i-seu-teu" },
        { ko: "ëª°ë”©ì„", cn: "çº¿æ¡çŸ³", origin: "[æ··] Molding + çŸ³", rom: "mol-ding-seok" },
        { ko: "ì •ë©´", cn: "æ­£é¢", origin: "[æ±‰] æ­£é¢", rom: "jeong-myeon" },
        { ko: "ë°°ë©´", cn: "èƒŒé¢", origin: "[æ±‰] èƒŒé¢", rom: "bae-myeon" },
        { ko: "ìš°ì¸¡", cn: "å³ä¾§", origin: "[æ±‰] å³å´", rom: "u-cheuk" },
        { ko: "ì¢Œì¸¡", cn: "å·¦ä¾§", origin: "[æ±‰] å·¦å´", rom: "jwa-cheuk" },
        { ko: "ì§€ì •ì„ì¬", cn: "æŒ‡å®šçŸ³æ", origin: "[æ±‰] æŒ‡å®šçŸ³æ", rom: "ji-jeong-seok-jae" },
        { ko: "ì‹œê³µ", cn: "æ–½å·¥", origin: "[æ±‰] æ–½å·¥", rom: "si-gong" },
        { ko: "ë‹¨ì°¨", cn: "è·Œçº§/é«˜ä½å·®", origin: "[æ±‰] æ®µå·®", rom: "dan-cha" },
        { ko: "ë°”ë‹¥", cn: "åœ°é¢", origin: "[éŸ©] ë°”ë‹¥", rom: "ba-dak" },
        { ko: "ë„ë©´", cn: "å›¾çº¸", origin: "[æ±‰] åœ–é¢", rom: "do-myeon" },
        { ko: "ì°¸ì¡°", cn: "å‚ç…§", origin: "[æ±‰] åƒç…§", rom: "cham-jo" },
        { ko: "ì„¤ì¹˜", cn: "å®‰è£…/è®¾ç½®", origin: "[æ±‰] è¨­ç½®", rom: "seol-chi" },
        { ko: "ì•ˆë‚´", cn: "ç¤ºæ„/å‘å¯¼", origin: "[æ±‰] æ¡ˆå…§", rom: "an-nae" },
        { ko: "ë©´ì¹˜ê¸°", cn: "å€’è§’", origin: "[éŸ©] ë©´ + ì¹˜ê¸°", rom: "myeon-chi-gi" },
        { ko: "í‰ë©´ë„", cn: "å¹³é¢å›¾", origin: "[æ±‰] å¹³é¢åœ–", rom: "pyeong-myeon-do" },
        { ko: "ë‘ê²", cn: "å‹é¡¶", origin: "[éŸ©] ë‘ê²", rom: "du-geop" },
        { ko: "ì”ë‹¤ë“¬", cn: "è”æé¢", origin: "[éŸ©] ì” + ë‹¤ë“¬", rom: "jan-da-deum" },
        { ko: "ë‹¨ë©´", cn: "å‰–é¢", origin: "[æ±‰] æ–·é¢", rom: "dan-myeon" },
        { ko: "ìƒì„¸ë„", cn: "è¯¦å›¾", origin: "[æ±‰] è©³ç´°åœ–", rom: "sang-se-do" },
        { ko: "ê°€ê³µ", cn: "åŠ å·¥", origin: "[æ±‰] åŠ å·¥", rom: "ga-gong" },
        { ko: "ìƒì„¸", cn: "ç»†èŠ‚/è¯¦ç»†", origin: "[æ±‰] è©³ç´°", rom: "sang-se" },
        { ko: "ìœ„", cn: "ä¸Š", origin: "[éŸ©] ìœ„", rom: "wi" },
        { ko: "ì•„ë˜", cn: "ä¸‹", origin: "[éŸ©] ì•„ë˜", rom: "a-rae" },
        { ko: "ì¢Œ", cn: "å·¦", origin: "[æ±‰] å·¦", rom: "jwa" },
        { ko: "ìš°", cn: "å³", origin: "[æ±‰] å³", rom: "u" },
        { ko: "ë™", cn: "æ ‹", origin: "[æ±‰] æ£Ÿ", rom: "dong" },
        { ko: "ì¸µ", cn: "å±‚", origin: "[æ±‰] å±¤", rom: "cheung" },
        { ko: "í­", cn: "å®½", origin: "[æ±‰] å¹…", rom: "pok" },
        { ko: "ê¸¸ì´", cn: "é•¿", origin: "[éŸ©] ê¸¸ì´", rom: "gi-ri" },
        { ko: "ë‘ê»˜", cn: "åšåº¦", origin: "[éŸ©] ë‘ê»˜", rom: "du-kke" }
    ];

    // --- 2. æ¸¸æˆé€»è¾‘ ---
    let currentQuestion = {};
    let score = 0;
    let questionCount = 0;
    let isAnswered = false;

    function playCurrentWord() {
        if (!currentQuestion.ko) return;
        const text = currentQuestion.ko;
        const audio = document.getElementById('audio-player');
        const url = `https://dict.youdao.com/dictvoice?audio=${encodeURIComponent(text)}&le=ko&_t=${new Date().getTime()}`;
        audio.src = url;
        audio.play().catch(e => {});
    }

    function initGame() {
        nextQuestion();
    }

    function nextQuestion() {
        isAnswered = false;
        questionCount++;
        document.getElementById('progress').textContent = `ç¬¬ ${questionCount} é¢˜`;
        document.getElementById('next-btn').style.display = 'none';
        
        // éšè—éŸ³æ ‡
        const pronDiv = document.getElementById('pronunciation-text');
        pronDiv.classList.remove('show');
        pronDiv.textContent = ''; // å…ˆæ¸…ç©ºï¼Œé˜²æ­¢çœ‹åˆ°ä¸Šä¸€ä¸ª
        
        // éšæœºé€‰é¢˜
        const randomIndex = Math.floor(Math.random() * wordDatabase.length);
        currentQuestion = wordDatabase[randomIndex];
        
        document.getElementById('question-word').textContent = currentQuestion.ko;
        // è®¾ç½®éŸ³æ ‡æ–‡æœ¬ï¼Œä½†æš‚æ—¶ä¸æ˜¾ç¤ºï¼ˆé€šè¿‡CSSæ§åˆ¶ï¼‰
        pronDiv.textContent = `[ ${currentQuestion.rom} ]`;
        
        // ç”Ÿæˆé€‰é¡¹
        let options = [currentQuestion];
        while (options.length < 4) {
            const randomDistractor = wordDatabase[Math.floor(Math.random() * wordDatabase.length)];
            if (randomDistractor.ko !== currentQuestion.ko && !options.includes(randomDistractor)) {
                options.push(randomDistractor);
            }
        }
        
        options.sort(() => Math.random() - 0.5);
        
        const container = document.getElementById('options-container');
        container.innerHTML = '';
        
        options.forEach(opt => {
            const btn = document.createElement('button');
            btn.className = 'option-btn';
            
            // ç»“æ„ï¼šä¸Šé¢æ˜¯ä¸­æ–‡ï¼Œä¸‹é¢æ˜¯éšè—çš„è¯æºspan
            btn.innerHTML = `
                <span>${opt.cn}</span>
                <span class="origin-text">${opt.origin}</span>
            `;
            
            btn.dataset.ko = opt.ko; 
            btn.onclick = () => checkAnswer(btn, opt);
            container.appendChild(btn);
        });
    }

    function checkAnswer(btn, selectedOption) {
        if (isAnswered) return;
        isAnswered = true;

        // æ˜¾ç¤ºéŸ³æ ‡
        document.getElementById('pronunciation-text').classList.add('show');

        const allBtns = document.querySelectorAll('.option-btn');

        // åˆ¤æ–­æ˜¯å¦æ­£ç¡®
        if (selectedOption.ko === currentQuestion.ko) {
            btn.classList.add('correct');
            score += 10;
            document.getElementById('score').textContent = `å¾—åˆ†: ${score}`;
            playCurrentWord(); 
        } else {
            btn.classList.add('wrong');
            if (navigator.vibrate) navigator.vibrate(200);
            
            // æ ‡å‡ºæ­£ç¡®ç­”æ¡ˆ
            allBtns.forEach(b => {
                if (b.dataset.ko === currentQuestion.ko) {
                    b.classList.add('correct');
                }
            });
        }

        document.getElementById('next-btn').style.display = 'block';
    }

    initGame();
</script>
</body>
</html>
